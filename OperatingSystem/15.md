# 15. 프로세스와 스레드의 차이에 대해 설명해주세요.

## 프로세스
프로세스는 디스크로부터 메모리에 적재되어 실행중인 프로그램을 말합니다. 운영체제로부터 시스템 자원을 할당 받는
작업의 단위입니다. 내부적으로 스택, 힙, 데이터, 텍스트 영역이 있습니다. 스택 영역에는 매개변수, 지역 변수 등
임시적인 데이터를 저장하고, 힙에는 동적인 데이터, 데이터 영역에는 전역 변수를 저장합니다. 텍스트 영역에는 프로그램의 
코드가 저장됩니다.
각 프로세스는 운영체제에서 PCB(Process Control Block)에 의해서 관리됩니다.
PCB에는 PID(프로세스 식별자), 프로세스 상태, 프로그램 카운터, 레지스터, 스케줄링 정보 등에 관한 정보를 저장합니다. 

프로세스간 통신(IPC)과 컨텍스트 스위치의 비용이 비쌉니다. 다만 자식 프로세스 중 하나가 문제 생겨도
다른 프로세스에는 영향이 없습니다. 


## 스레드
CPU 이용의 단위입니다. 프로세스의 텍스트, 데이터, 힙 영역을 공유합니다. 스택 영역은 공유하지 않고 
각 스레드별로 스택 영역을 가집니다. 

자원을 공유하기 때문에 컨텍스트 스위치의 비용이 적어서 향상된 응답성을 가집니다. 
다만 자원을 공유하는만큼 스레드 세이프하도록 조심해야 합니다.



## 참고
동시성: 하나의 코어에서 하나 이상의 프로세스가 번갈아가면서 진행되지만 동시에 진행되는 것처럼 보이는 것
병렬처리: 둘 이상의 코어에서 하나 이상의 프로세스가 한꺼번에 진행되는 것

## 질문
### 1. 4코어 4스레드, 4코어 8스레드와 같이 CPU 스펙을 말할 때 나오는 스레드와는 다른 의미인가요?
-> 다른 의미입니다. 1코어 1스레드 CPU에서도 멀티스레딩은 가능합니다. CPU에서 n 스레드라 하는 것은 "물리적으로 동시에 실행 가능한 스레드의 수"입니다.

### 2. 프로젝트를 한다면 멀티 쓰레드를 쓸건가요? 멀티 프로세스를 쓸건가요?
-> 프로젝트의 성격에 따라 다를 것 같습니다. 엔터프라이즈 환경에서 대규모 요청이 오는 프로젝트라면 성능을 위해 멀티스레드를 사용할 것 같습니다. 

### 3. 쓰레드 풀은 어떻게 동작하는 건가요?
-> 프로세스 내에서 스레드의 생성 및 제거가 자주 일어난다면 스레드를 사용하는 장점이 줄어듭니다. 그래서 스레드를 미리 생성해두고 사용하는 것입니다. 
스레드 풀을 사용하면 스레드끼리의 컨텍스트 스위치 비용을 줄일 수 있지만, 너무 많은 양의 스레드를 만들어두면 메모리 낭비가 심해질 수 있습니다. 

자바에서 스레드 풀에 작업요청을 하는 방식은 `execute()`와 `submit()` 방식이 있습니다. 
execute 방식은 작업 처리 중에 예외가 발생하면 해당 스레드가 종료되고, 스레풀에서 제거한 뒤, 
새로운 스레드를 생성하여 다른 작업을 처리합니다. 또 처리 결과를 반환하지 않습니다.

submit 방식은 예외가 발생하더라도 스레드가 종료되지 않고 다음 작업에서 사용됩니다. 또 처리 결과를 `Future<?>`로 반환합니다.
따라서 스레드 풀을 사용할 때 `submit`을 사용하는 것이 더 바람직합니다. 


