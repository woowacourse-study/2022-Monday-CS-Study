# 동기와 비동기의 차이, 장단점에 대해 설명해주세요.

## 동기(Synchronous)와 비동기(Asynchronous)

동기와 비동기를 구별하는 핵심은 `작업 여부를 신경 쓰는지`입니다. 동기 방식은 호출한 삼수의 작업 여부를 신경씁니다. 동기 방식으로 작동하는 함수를 호출하게 되면, 호출한 함수의 리턴값을 계속해서 확인하게 됩니다. 우리가 자바 등의 언어에서 일반적으로 호출하는 함수 / 메서드들이 동작하는 방식이라고 생각하면 될 것 같습니다.

```java
public class Example {
  
    public static void main(String[] args) {
        int result = sum(1, 2);
        System.out.println(result);
    }
  
    public int sum(int arg1, int arg2) {
        return arg1 + arg2;
    }
}
```

위 코드를 보면 main 메서드에서 sum 메서드를 호출하게 되는데요, result라는 변수에 sum 메서드의 결과값을 할당해주기 위해 sum 메서드의 완료 여부를 기다리고, sum 메서드의 연산이 완료되면 그 결과값을 받아서 result에 할당합니다. 이런 방식은 동기 방식이라고 할 수 있습니다.

비동기의 경우는 어떨까요?

```javascript

const res = fetch("/api/user");
console.log(res)

```

자바스크립트의 fetch 함수는 비동기 함수입니다. 일반적인 동기 함수였다면 fetch의 결과과 완료된 후 그 값을 res에 할당하야 콘솔에 로그를 찍게 될텐데요, fetch 함수가 비동기 함수이기 때문에 fetch 함수의 작업이 끝났는지 끝나지 않았는지 상관 없이 바로 다음 라인을 실행해버리기 때문에 res가 정상적으로 출력되는 것이 아니라 undefined가 출력될 것입니다.

즉, 호출한 함수가 호출 대상의 완료 여부를 신경 쓰던 동기 방식과는 다르게 비동기 방식은 호출한 함수가 호출 대상의 완료 여부를 신경쓰지 않는 것입니다. 하지만 호출한 함수의 결과가 필요한 로직이 있을 수 있기 때문에 비동기 방식에서는 함수 호출에 콜백(callback) 함수를 넘겨주어 호출된 함수의 완료 이후의 동작을 정의하도록 합니다.

## 동기와 비동기의 장단점
### 동기
장점
- 간단하고 직관적이라 쉽게 설계할 수 있습니다.
- 동기 방식으로 설계된 웹 페이지가 검색엔진에 더 노출되는 이점을 누립니다.
단점
- 보통 비동기 프로그래밍에 비해 속도가 느립니다.
- 비동기 프로그래밍에 비해 리소스를 더 많이 소모합니다.
### 비동기
동기의 반대입니다.

## 동기라고 작업을 멈추는 것이 아니고 비동기라고 작업을 계속하는 것이 아니다.

흔히 동기 방식이라고 하면 함수 호출 이후 호출한 함수는 작업을 멈추고, 비동기 방식이라고 하면 작업을 계속한다 라고 알고 있는 경우가 많습니다. 하지만 이는 제어권에 관련된 관점이고, 블로킹과 논블로킹의 차이를 가르는 요소입니다.

블로킹 방식은 함수를 호출한 후 호출된 함수로 함수의 제어권을 넘깁니다. 즉, 호출된 함수가 return할 때까지 호출한 함수는 작업을 실행할 수 없습니다. 반면 논블로킹의 경우 함수를 호출한 뒤 제어권을 넘겨주지 않습니다. 때문에 작업을 계속 실행합니다.

우리가 동기, 비동기에 대해 위에서 언급한 것 처럼 생각하는 것은 일반적으로 동기+블로킹, 비동기+논블로킹 조합으로 많이 사용되기 때문입니다. 하지만 경우에 따라서 동기+논블로킹 조합은 꽤 사용되는 편입니다.

동기+논블로킹 조합을 사용하게 되면 함수 호출 이후 호출된 함수의 return을 기다리지 않고 호출한 함수의 작업을 계속합니다. 하지만 호출된 함수의 완료 여부를 확인하고, 완료가 된다면 해당 함수의 반환값을 받아 로직을 처리합니다.

굉장히 비효율적이기 때문에 자주 쓰이는 것은 아니나 비동기+블로킹 방식도 가능하다고는 합니다. (보통은 비동기+논블로킹을 사용하려다가 의도치 않게 사용되는 경우입니다.)

![image](https://user-images.githubusercontent.com/66253212/193448859-316c92ed-12c2-4c5b-a6be-2cb2c70a57dd.png)
